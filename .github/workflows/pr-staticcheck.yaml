name: pr-staticcheck
on:
  pull_request
jobs:
  setup:
    uses: ./.github/workflows/setup.yml
  compile:
    runs-on: ubuntu-latest
    needs: setup
    steps:
      - id: compile-checks
        run: yarn tsc:noemit
  prettier-check:
    needs: compile
    runs-on: ubuntu-latest
    steps:
      - id: prettier-checks
        run: yarn prettier:check
  lint:
    needs: compile
    runs-on: ubuntu-latest
    steps:
      - id: lint
        run: yarn lint
  test:
    needs: compile
    runs-on: ubuntu-latest
    steps:
      - id: jest-runner
        run: yarn test:ci